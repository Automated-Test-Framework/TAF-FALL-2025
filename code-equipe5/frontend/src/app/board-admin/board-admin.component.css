:root{
  --card:#ffffff;
  --muted:#6b7280;
  --ink:#111827;

  /* palette */
  --green:#2ecc71;
  --red:#e74c3c;
  --blue:#3b82f6;
  --violet:#8b5cf6;
  --amber:#f59e0b;
  --teal:#06b6d4;
  --rose:#f43f5e;

  /* kpi bg (soft) */
  --kpi-total:#eef2ff;     /* indigo-50 */
  --kpi-pass:#ecfdf5;      /* emerald-50 */
  --kpi-rate:#fff7ed;      /* orange-50 */
}

.page { padding:16px 20px 40px; }
h2 { margin:0 0 12px; font-weight:700; letter-spacing:.2px; }

/* ==== TITRES DE SECTIONS =================================================== */
.section-title{
  margin:0 0 10px;
  font-weight:700;
  font-size:15px;
  color:var(--ink);
  display:flex; align-items:center; gap:10px;
}
.section-title::before{
  content:""; width:6px; height:16px; border-radius:3px;
  background: linear-gradient(180deg, var(--blue), var(--violet));
  display:inline-block;
}

/* ==== CARTES / LAYOUT ====================================================== */
.card{
  background:var(--card);
  border-radius:12px;
  padding:16px;
  box-shadow:0 4px 16px rgba(0,0,0,.06);
}
.card + .card{ margin-left:12px; }
.card.wide{ grid-column:span 2; }

.filters.card{ margin-bottom:12px; }
.row{ display:grid; grid-template-columns:repeat(4,1fr); gap:12px; align-items:end; }
.col label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
select{
  width:100%; padding:10px 12px; border-radius:8px;
  border:1px solid #e5e7eb; background:#fff; color:var(--ink);
}
.segmented button{
  padding:6px 10px; border-radius:8px; border:1px solid #e5e7eb; background:#fff;
  margin-right:6px; cursor:pointer;
}
.segmented button.active{ background:#111827; color:#fff; }
.primary{ padding:10px 14px; border-radius:8px; border:0; background:#111827; color:#fff; cursor:pointer; }

/* ==== KPI ================================================================== */
.kpis{
  display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-bottom:12px;
}
.kpi-card{
  border-radius:12px; padding:16px; box-shadow:0 4px 16px rgba(0,0,0,.06);
}
.kpi-card.total{ background:var(--kpi-total); }
.kpi-card.passed{ background:var(--kpi-pass); }
.kpi-card.rate{ background:var(--kpi-rate); }
.kpi-title{ font-size:12px; color:var(--muted); margin-bottom:8px; font-weight:600; }
.kpi-value{ font-size:28px; font-weight:800; letter-spacing:.3px; }

/* ==== CHARTS =============================================================== */
.charts{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; margin-bottom:12px; }
.chart-compact canvas{ max-height:260px !important; }    /* 1ère rangée plus compacte */
.legend-inline{ margin-top:6px; color:var(--muted); font-size:12px; }
.legend-inline .dot{ display:inline-block; width:10px; height:10px; border-radius:50%; margin:0 6px; }
.legend-inline .pass{ background:var(--green); }
.legend-inline .fail{ background:var(--red); }

/* ==== LISTES / BADGES ====================================================== */
.two-cols{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:16px; }
.list{ margin:10px 0 0; padding-left:18px; }
.list li{ margin-bottom:6px; }
.row-click{ cursor:pointer; }
.row-click:hover{ background:#f9fafb; }
.badge{ padding:2px 6px; border-radius:10px; font-size:11px; }
.badge.pass{ background:#eafaf1; color:#136c37; }
.badge.fail{ background:#fde8e7; color:#b42318; }
.badge.warn{ background:#fff7e6; color:#92400e; }
.badge.other{ background:#e5e7eb; color:#111827; }

/* Top échecs : agrandir le nombre rouge */
.top-fails .badge.fail{
  font-size:14px; font-weight:800; padding:2px 9px;
}

/* ==== RUNS & TABLE ========================================================= */
.dot-status{ display:inline-block; width:8px; height:8px; border-radius:50%; margin-right:8px; background:#d1d5db; }
.dot-status.pass{ background:var(--green); }
.dot-status.fail{ background:var(--red); }

.runs{ list-style:none; padding:0; margin:6px 0 18px; }
.runs li{ padding:8px 10px; border-bottom:1px solid #eef2f7; }
.muted{ color:var(--muted); }

.table-wrap{ background:var(--card); border-radius:12px; padding:10px; box-shadow:0 4px 16px rgba(0,0,0,.06); }
.table{ width:100%; border-collapse:collapse; }
.table thead th{
  text-align:left; font-weight:700; font-size:12px; color:#6b7280;
  padding:8px 8px; border-bottom:1px solid #eef2f7; letter-spacing:.2px;
}
/* lignes plus compactes */
.table tbody td{
  padding:6px 8px;
  border-bottom:1px solid #f3f4f6;
  font-size:12.5px;
  line-height:1.2;
}
.ellipsis{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width:420px; }

.pager{ display:flex; justify-content:center; align-items:center; gap:12px; padding:12px 0 4px; }
.pager button{ padding:6px 10px; border-radius:8px; border:1px solid #e5e7eb; background:#fff; cursor:pointer; }
.pager button:disabled{ opacity:.4; cursor:default; }

/* ==== SKELETONS ============================================================ */
.skeleton{ background:linear-gradient(90deg,#f2f4f7 25%,#f8fafc 37%,#f2f4f7 63%); animation:shine 1.2s infinite; border-radius:8px; }
.skeleton.chart{ height:220px; } /* un peu moins haut */
.skeleton.row{ height:32px; }
.skeleton.table{ height:220px; }
@keyframes shine{ 0%{background-position:-200px 0;} 100%{background-position:calc(200px + 100%) 0;} }
